<!-- <!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mapbox Autocomplete</title>
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css" rel="stylesheet">
  <link href="api.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js"></script>
</head>
<body>

<input type="text" id="location-input" placeholder="Enter a location">

<div id="map" style="width: 100%; height: 400px;"></div>

<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiYW51c2hrYTE3IiwiYSI6ImNsbDQ2cm9tMjAzbDkzZmxiNmtpZ2l3ZWsifQ.X42lWwCQbxecQziN-o5Lvw';
  const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [-74.5, 40],
    zoom: 9
  });

  const input = document.getElementById('location-input');
  const suggestionsContainer = document.createElement('div');
  suggestionsContainer.className = 'suggestions';
  input.parentNode.appendChild(suggestionsContainer);

  input.addEventListener('input', async (e) => {
    const query = e.target.value;

    // Call Mapbox Geocoding API for autocomplete suggestions
    const response = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${query}.json?access_token=${mapboxgl.accessToken}`);
    const data = await response.json();

    // Clear previous suggestions
    suggestionsContainer.innerHTML = '';

    // Display autocomplete suggestions
    data.features.forEach((feature) => {
      const suggestion = document.createElement('div');
      suggestion.className = 'suggestion';
      suggestion.textContent = feature.place_name;
      suggestionsContainer.appendChild(suggestion);

      suggestion.addEventListener('click', () => {
        input.value = feature.place_name;
        // Use feature.center for your mapping purposes
      });
    });
  });
</script>

<style>
  .suggestions {
    position: absolute;
    width: 100%;
    max-height: 150px;
    overflow-y: auto;
    background-color: white;
    border: 1px solid #ccc;
    z-index: 999;
  }
  .suggestion {
    padding: 10px;
    cursor: pointer;
  }
</style>

</body>
</html> -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Mapbox Autocomplete</title>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css"
      rel="stylesheet"
    />
    <link href="api.css" rel="stylesheet" />
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js"></script>
  </head>
  <body>
    <input type="text" id="location-input" placeholder="Enter a location" />
    

    
      <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiYW51c2hrYTE3IiwiYSI6ImNsbDQ2cm9tMjAzbDkzZmxiNmtpZ2l3ZWsifQ.X42lWwCQbxecQziN-o5Lvw';

        const input = document.getElementById('location-input');
        const suggestionsContainer = document.createElement('div');
        suggestionsContainer.className = 'suggestions';
        input.parentNode.appendChild(suggestionsContainer);

        
        input.addEventListener('input', async (e) => {
          const query = e.target.value;

          // Call Mapbox Geocoding API for autocomplete suggestions
          const response = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${query}.json?access_token=${mapboxgl.accessToken}`);
          const data = await response.json();

          // Clear previous suggestions
          suggestionsContainer.innerHTML = '';

          // Display autocomplete suggestions
          data.features.forEach((feature) => {
            const suggestion = document.createElement('div');
            suggestion.className = 'suggestion';
            suggestion.textContent = feature.place_name;
            suggestionsContainer.appendChild(suggestion);

            suggestion.addEventListener('click', () => {
              input.value = feature.place_name;
              // Use feature.center for your mapping purposes
            }
            );
          }
          );
        }
        );
      </script>


    <style>
      .suggestions {
        position: absolute;
        width: 100%;
        max-height: 150px;
        overflow-y: auto;
        background-color: white;
        border: 1px solid #ccc;
        z-index: 999;
      }
      .suggestion {
        padding: 10px;
        cursor: pointer;
      }
    </style>
  </body>
</html>
